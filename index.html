<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Smoothed-particle hydrodynamics (SPH) code</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Smoothed-particle hydrodynamics (SPH) code </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="developer_guide.html">Developer Guide</a></p>
<h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>Smoothed <a class="el" href="classParticle.html" title="Particle class. ">Particle</a> Hydrodynamic (SPH) code</p>
<h1><a class="anchor" id="install_sec"></a>
Installation</h1>
<p>Check the source code from github and compile </p>
<pre class="fragment"> git clone git://github.com/slitvinov/sph-blitz
 cd sph-blitz
 ./local-install.sh  </pre><p> The script configures and compiles the third party libraries</p>
<ul>
<li>tcl <br/>
 <a href="http://www.tcl.tk/">http://www.tcl.tk/</a></li>
<li>cpptcl <br/>
 <a href="http://cpptcl.sourceforge.net/">http://cpptcl.sourceforge.net/</a></li>
<li>blitz++ <br/>
 <a href="http://www.oonumerics.org/blitz/">http://www.oonumerics.org/blitz/</a></li>
<li>glog <br/>
 <a href="http://code.google.com/p/google-glog/">http://code.google.com/p/google-glog/</a> </li>
</ul>
<h1><a class="anchor" id="incomp_code"></a>
Incompressible Version</h1>
<h2><a class="anchor" id="restart_file"></a>
Restart file format</h2>
<h2><a class="anchor" id="input_file"></a>
Input file format</h2>
<p>Examples of input files are stored in sph-blitz/case directory. Input files are writen in <b>TCL</b> language. See comments in the files for explanation.</p>
<h2><a class="anchor" id="sim"></a>
Runnig simulations</h2>
<pre class="fragment"> cd src
 ./sph ../cases/couette </pre> <h2><a class="anchor" id="post"></a>
Postprocessing</h2>
<p>To combine all time snapshots in one file </p>
<pre class="fragment"> cd outdata/
 ../../scripts/dat2punto.sh &gt; punto.dat</pre><h2><a class="anchor" id="vis"></a>
Visuzalization</h2>
<h3><a class="anchor" id="vis_gnuplot"></a>
gnuplot</h3>
<div class="image">
<img src="pognuplot.png" alt="pognuplot.png"/>
<div class="caption">
Poiseuille flow: velocites of the particles visualization with gnuplot</div></div>
 <h3><a class="anchor" id="vis_punto"></a>
punto</h3>
<pre class="fragment"> punto -D 2 -c 4 -B 0:0:0.04:0.04 -G -0.6:0.6 -s 8 -lc black -bg white  punto.dat </pre> <div class="image">
<img src="couette.png" alt="couette.png"/>
<div class="caption">
Couette flow: particle visualization with punto</div></div>
 <div class="image">
<img src="poiseuille.png" alt="poiseuille.png"/>
<div class="caption">
Poiseuille flow: particle visualization with punto</div></div>
<h1><a class="anchor" id="comp_code"></a>
Compressible Version</h1>
<h2><a class="anchor" id="input_file"></a>
Input file format</h2>
<p>two inputfiles for compressible version (both in cases folder) </p>
<ul>
<li>
tcl-file with information on the configuration (same as for incompressible case) </li>
<li>
additionally a file to initialize particles (.ivs) </li>
</ul>
<h2><a class="anchor" id="simCompr"></a>
Preparing and Runnig simulations</h2>
<ol>
<li>
<b>creating the .ivs-file</b> with the particle initialization information <br/>
 go to desired folder in sph-blitz/scripts (for example for shock tube:) <pre class="fragment">sph-blitz/scripts/InitCondShockTube
</pre> run <pre class="fragment">make
</pre> run desired initial condition script (example is 1D particle distribution with constant mass particles) (q1D in file-name means quasi-1D (2D particle distribution)) <pre class="fragment">./create_IC1D_mConst
</pre> corresponding .ivs file is now created in sph-blitz/cases<br/>
 <br/>
 </li>
<li>
<p class="startli"><b>running the simulation</b> <br/>
 go to the source folder</p>
<pre class="fragment"> cd ../../ src
</pre><p> and run the simulation program with the two inputfiles (.tcl file WITHOUT file anding) </p>
<pre class="fragment"> ./sph ../cases/1Dshock ../cases/1DshockMConst.ivs
</pre><p> Note: only use couples of configuration (.tcl) files and .ivs files which are suitable <br/>
 the following couples go together</p>
<table  border="1">
<tr>
<td><b> .tcl files </b>  </td><td><b> .ivs files </b>  </td><td><b> remarks </b>  </td></tr>
<tr>
<td>1Dshock.tcl </td><td>1DshockSpaceConst.ivs,<br/>
 1DshockMConst.ivs </td><td>&ndash;   </td></tr>
<tr>
<td>q1Dshock.tcl </td><td>q1DshockSpaceConst.ivs,<br/>
 q1DshockMConst.ivs </td><td>&ndash;   </td></tr>
<tr>
<td>1DOscillation.tcl </td><td>1DOscillation.ivs </td><td>see <a class="el" href="sph_8cpp.html">sph.cpp</a> for mass calculation   </td></tr>
<tr>
<td>1DTravelingWave.tcl </td><td>1DTravelingWave.ivs </td><td><ul>
<li>
concerning artificial viscosity:c.f footnote under table <br/>
 </li>
<li>
see <a class="el" href="sph_8cpp.html">sph.cpp</a> for mass calculation </li>
</ul>
</td></tr>
<tr>
<td>singleWaveWithReflection.tcl  </td><td>1DunperturbedDomain.ivs </td><td><ul>
<li>
concerning artificial viscosity:c.f footnote under table <br/>
 </li>
<li>
for mass calculation </li>
<li>
see Timesolver/gastimesolverLeapfrog.cpp for moving wall </li>
</ul>
<p class="endtd"></p>
</td></tr>
</table>
<p>Note: A simulation without any art. visc. is not (physically) stable as the SPH code does not introduce any intrinsic numerical dissipation</p>
<p class="endli"></p>
</li>
</ol>
<h2><a class="anchor" id="postCompr"></a>
Postprocessing</h2>
<ol>
<li>
<p class="startli"><b>combine all time snapshots in one file</b> </p>
<pre class="fragment"> cd outdata/
 ../../scripts/dat2punto.sh &gt; punto.dat</pre><p class="endli"></p>
</li>
<li>
still in outdata: <b>run gnuplot</b> <pre class="fragment">gnuplot\
</pre> in gnuplotshell, <b>run gnuplot-script</b> depending on the simulation type <ul>
<li>
for shock tube with 1D particle distribution (4 options) <pre class="fragment">load '../../gnuplot/shockTube_1D/velocity_movie.gp'
load '../../gnuplot/shockTube_1D/pressure_movie.gp'
load '../../gnuplot/shockTube_1D/density_movie.gp'
load '../../gnuplot/shockTube_1D/energy_movie.gp'</pre> </li>
<li>
for q1D Shock-tube (2D particle distribution) (4 options as well), <pre class="fragment">load '../../gnuplot/shockTube_q1D/velocity_movie.gp'
load '../../gnuplot/shockTube_q1D/pressure_movie.gp'
load '../../gnuplot/shockTube_q1D/density_movie.gp'
load '../../gnuplot/shockTube_q1D/energy_movie.gp'
</pre> </li>
<li>
for 1D stationnary oscillating wave <pre class="fragment">load '../../gnuplot/1DWave/waveMovieVelocity.gp'
load '../../gnuplot/1DWave/waveMoviePressure.gp'
load '../../gnuplot/1DWave/waveMovieDensity.gp'
load '../../gnuplot/1DWave/waveMoviePosition.gp'
</pre> </li>
<li>
<p class="startli">for 1D traveling wave </p>
<pre class="fragment">load '../../gnuplot/1DWave/TravelingWaveMovieVelocity.gp'
load '../../gnuplot/1DWave/TravelingWaveMoviePressure.gp'
load '../../gnuplot/1DWave/TravelingWaveMovieDensity.gp'
load '../../gnuplot/1DWave/TravelingWaveMoviePosition.gp'
</pre><p class="endli"></p>
</li>
<li>
<p class="startli">for single 1D wave train with reflection and interference </p>
<pre class="fragment">load '../../gnuplot/1DWave/SingleWaveMovieVelocity.gp'
load '../../gnuplot/1DWave/SingleWaveMoviePressure.gp'
load '../../gnuplot/1DWave/SingleWaveMovieDensity.gp'
</pre><p class="endli">If a post-processing including quantitative comparison to reference solution (for shock tube cases) is desired, refer to README in sph-blitz/scripts/postProcessingShockTube. <br/>
There are also results (readily post processed, including visualization) in their respective folder, for example: <br/>
sph-blitz/results/ShockTubeTestCase/1DpartDist_constMass_LeapFrog_sumDes <br/>
(this is for 1D particle distribution with constant mass particles, leapFrog integrator and summation approach for density calculation) </p>
</li>
</ul>
</li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jan 18 2015 17:54:46 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
