<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>blitz: random/mt.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>random/mt.h</h1><a href="mt_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">/*</span>
<a name="l00003"></a>00003 <span class="comment"> * $Id: mt.h,v 1.8 2008/04/10 02:09:10 julianc Exp $</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * A C-program for MT19937: Integer version (1998/4/6)            </span>
<a name="l00006"></a>00006 <span class="comment"> *  genrand() generates one pseudorandom unsigned integer (32bit) </span>
<a name="l00007"></a>00007 <span class="comment"> * which is uniformly distributed among 0 to 2^32-1  for each    </span>
<a name="l00008"></a>00008 <span class="comment"> * call. sgenrand(seed) set initial values to the working area   </span>
<a name="l00009"></a>00009 <span class="comment"> * of 624 words. Before genrand(), sgenrand(seed) must be        </span>
<a name="l00010"></a>00010 <span class="comment"> * called once. (seed is any 32-bit integer except for 0).</span>
<a name="l00011"></a>00011 <span class="comment"> *   Coded by Takuji Nishimura, considering the suggestions by    </span>
<a name="l00012"></a>00012 <span class="comment"> * Topher Cooper and Marc Rieffel in July-Aug. 1997.             </span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * This library is free software; you can redistribute it and/or </span>
<a name="l00015"></a>00015 <span class="comment"> * modify it under the terms of the GNU Library General Public   </span>
<a name="l00016"></a>00016 <span class="comment"> * License as published by the Free Software Foundation; either    </span>
<a name="l00017"></a>00017 <span class="comment"> * version 2 of the License, or (at your option) any later         </span>
<a name="l00018"></a>00018 <span class="comment"> * version.                                                        </span>
<a name="l00019"></a>00019 <span class="comment"> * This library is distributed in the hope that it will be useful, </span>
<a name="l00020"></a>00020 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of  </span>
<a name="l00021"></a>00021 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.            </span>
<a name="l00022"></a>00022 <span class="comment"> * See the GNU Library General Public License for more details.    </span>
<a name="l00023"></a>00023 <span class="comment"> * You should have received a copy of the GNU Library General      </span>
<a name="l00024"></a>00024 <span class="comment"> * Public License along with this library; if not, write to the    </span>
<a name="l00025"></a>00025 <span class="comment"> * Free Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA    </span>
<a name="l00026"></a>00026 <span class="comment"> * 02111-1307  USA                                                 </span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> * Copyright (C) 1997 Makoto Matsumoto and Takuji Nishimura.       </span>
<a name="l00029"></a>00029 <span class="comment"> * When you use this, send an email to: matumoto@math.keio.ac.jp   </span>
<a name="l00030"></a>00030 <span class="comment"> * with an appropriate reference to your work.                     </span>
<a name="l00031"></a>00031 <span class="comment"> *</span>
<a name="l00032"></a>00032 <span class="comment"> * REFERENCE                                                       </span>
<a name="l00033"></a>00033 <span class="comment"> * M. Matsumoto and T. Nishimura,                                  </span>
<a name="l00034"></a>00034 <span class="comment"> * "Mersenne Twister: A 623-Dimensionally Equidistributed Uniform</span>
<a name="l00035"></a>00035 <span class="comment"> * Pseudo-Random Number Generator",                                </span>
<a name="l00036"></a>00036 <span class="comment"> * ACM Transactions on Modeling and Computer Simulation,           </span>
<a name="l00037"></a>00037 <span class="comment"> * Vol. 8, No. 1, January 1998, pp 3--30.                          </span>
<a name="l00038"></a>00038 <span class="comment"> *</span>
<a name="l00039"></a>00039 <span class="comment"> * See </span>
<a name="l00040"></a>00040 <span class="comment"> *     http://www.math.keio.ac.jp/~matumoto/emt.html</span>
<a name="l00041"></a>00041 <span class="comment"> * and</span>
<a name="l00042"></a>00042 <span class="comment"> *     http://www.acm.org/pubs/citations/journals/tomacs/1998-8-1/p3-matsumoto/</span>
<a name="l00043"></a>00043 <span class="comment"> *</span>
<a name="l00044"></a>00044 <span class="comment"> */</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef BZ_RAND_MT</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define BZ_RAND_MT</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;<a class="code" href="blitz_8h.html">blitz/blitz.h</a>&gt;</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;sstream&gt;</span> 
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="preprocessor">#ifndef UINT_MAX</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">  #include &lt;limits.h&gt;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#endif</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 <a class="code" href="compiler_8h.html#e33e5c1c3d6992d17224c49fd80df9ef">BZ_NAMESPACE</a>(ranlib)
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="preprocessor">#if UINT_MAX &lt; 4294967295U</span>
<a name="l00064"></a><a class="code" href="mt_8h.html#93bbc97d43027ac5ed42fc8950ac6179">00064</a> <span class="preprocessor"></span>  <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="mt_8h.html#93bbc97d43027ac5ed42fc8950ac6179">twist_int</a>;  <span class="comment">// must be at least 32 bits</span>
<a name="l00065"></a>00065 <span class="preprocessor">#else</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span>  <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> twist_int;
<a name="l00067"></a>00067 <span class="preprocessor">#endif</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span>
<a name="l00069"></a>00069 <span class="keyword">class </span><a class="code" href="classMersenneTwister.html">MersenneTwister</a>
<a name="l00070"></a>00070 {
<a name="l00071"></a>00071 <span class="keyword">public</span>:
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="keyword">private</span>:
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="preprocessor">#if defined(BZ_HAVE_NAMESPACES) &amp;&amp; defined(BZ_HAVE_STD)</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>  <span class="keyword">typedef</span> std::vector&lt;twist_int&gt; <a class="code" href="classMersenneTwister.html#3e932cdbd87949e9e1232fb991e12012">State</a>;
<a name="l00077"></a>00077 <span class="preprocessor">#else</span>
<a name="l00078"></a><a class="code" href="classMersenneTwister.html#3e932cdbd87949e9e1232fb991e12012">00078</a> <span class="preprocessor"></span>  <span class="keyword">typedef</span> vector&lt;twist_int&gt; <a class="code" href="classMersenneTwister.html#3e932cdbd87949e9e1232fb991e12012">State</a>;
<a name="l00079"></a>00079 <span class="preprocessor">#endif</span>
<a name="l00080"></a><a class="code" href="classMersenneTwister.html#85fd7651fe5b9da17f6a64a5b865e552">00080</a> <span class="preprocessor"></span>  <span class="keyword">typedef</span> State::size_type <a class="code" href="classMersenneTwister.html#85fd7651fe5b9da17f6a64a5b865e552">SizeType</a>;
<a name="l00081"></a><a class="code" href="classMersenneTwister.html#cda2fe5fd19206999d9ce9ca0e7ce338">00081</a>   <span class="keyword">typedef</span> State::iterator <a class="code" href="classMersenneTwister.html#cda2fe5fd19206999d9ce9ca0e7ce338">Iter</a>;
<a name="l00082"></a>00082 
<a name="l00083"></a>00083   <span class="comment">// Implements Step 2 and half of Step 3 in the MN98 description</span>
<a name="l00084"></a>00084   <span class="keyword">struct </span><a class="code" href="structMersenneTwister_1_1BitMixer.html">BitMixer</a> {
<a name="l00085"></a><a class="code" href="structMersenneTwister_1_1BitMixer.html#877757609c04b3226656d63e89a12a67">00085</a>     <a class="code" href="structMersenneTwister_1_1BitMixer.html#877757609c04b3226656d63e89a12a67">BitMixer</a>() : <a class="code" href="structMersenneTwister_1_1BitMixer.html#9cb7f7e60511d471f0afd7c9e8d0df37">s0</a>(0), <a class="code" href="structMersenneTwister_1_1BitMixer.html#2bd35860cd8ef1d441ba734d32c2d54ff78772660c34c878baa280db4b50f8a0">K</a>(0x9908b0df) {};
<a name="l00086"></a><a class="code" href="structMersenneTwister_1_1BitMixer.html#8d72bc7ad48c06ee8b3d90ff16c824de">00086</a>     <a class="code" href="structMersenneTwister_1_1BitMixer.html#8d72bc7ad48c06ee8b3d90ff16c824de">BitMixer</a>(twist_int <a class="code" href="indexexpr_8h.html#bb72938a198351550846b37a84588b63">k</a>) : <a class="code" href="structMersenneTwister_1_1BitMixer.html#9cb7f7e60511d471f0afd7c9e8d0df37">s0</a>(0), <a class="code" href="structMersenneTwister_1_1BitMixer.html#2bd35860cd8ef1d441ba734d32c2d54ff78772660c34c878baa280db4b50f8a0">K</a>(k) {};
<a name="l00087"></a>00087 
<a name="l00088"></a>00088     <span class="comment">// Return 0 if lsb of s1=0, a if lsb of s1=1.</span>
<a name="l00089"></a><a class="code" href="structMersenneTwister_1_1BitMixer.html#9c21058ee6bd66869aa8e1e57f0bc002">00089</a>     <span class="keyword">inline</span> twist_int <a class="code" href="structMersenneTwister_1_1BitMixer.html#9c21058ee6bd66869aa8e1e57f0bc002">low_mask</a> (twist_int s1)<span class="keyword"> const </span>{
<a name="l00090"></a>00090       <span class="comment">// This does not actually result in a branch because it's</span>
<a name="l00091"></a>00091       <span class="comment">// equivalent to ( -(s1 &amp; 1u) ) &amp; K</span>
<a name="l00092"></a>00092       <span class="keywordflow">return</span> (s1&amp;1u) ? <a class="code" href="structMersenneTwister_1_1BitMixer.html#2bd35860cd8ef1d441ba734d32c2d54ff78772660c34c878baa280db4b50f8a0">K</a> : 0u;
<a name="l00093"></a>00093     }
<a name="l00094"></a>00094     
<a name="l00095"></a>00095     <span class="comment">// Return y&gt;&gt;1 in MN98 (step 2 + part of 3).</span>
<a name="l00096"></a>00096     <span class="comment">// y = (x[i] AND u) OR (x[i+1 mod n] AND ll), where s0=x[i] and</span>
<a name="l00097"></a>00097     <span class="comment">// s1=x[i+1 mod n]</span>
<a name="l00098"></a><a class="code" href="structMersenneTwister_1_1BitMixer.html#6ed5ac01a9920687d616a3251aeb128a">00098</a>     <span class="keyword">inline</span> twist_int <a class="code" href="structMersenneTwister_1_1BitMixer.html#6ed5ac01a9920687d616a3251aeb128a">high_mask</a> (twist_int s1)<span class="keyword"> const </span>{
<a name="l00099"></a>00099       <span class="keywordflow">return</span> ( (<a class="code" href="structMersenneTwister_1_1BitMixer.html#9cb7f7e60511d471f0afd7c9e8d0df37">s0</a>&amp;0x80000000) | (s1&amp;0x7fffffff) ) &gt;&gt;1;
<a name="l00100"></a>00100     }
<a name="l00101"></a>00101 
<a name="l00102"></a>00102     <span class="comment">// Calculate (half of) step 3 in MN98.</span>
<a name="l00103"></a><a class="code" href="structMersenneTwister_1_1BitMixer.html#4c63e895806abbc0f2fa1c0c43408569">00103</a>     <span class="keyword">inline</span> twist_int <a class="code" href="structMersenneTwister_1_1BitMixer.html#4c63e895806abbc0f2fa1c0c43408569">operator() </a>(twist_int s1) {
<a name="l00104"></a>00104       <span class="comment">// (y&gt;&gt;1) XOR (0 if lsb of s1=0, a if lsb of s1=1)</span>
<a name="l00105"></a>00105       <span class="comment">// x[i+m] is XORed in reload</span>
<a name="l00106"></a>00106       <span class="comment">// (Note that it is OK to call low_mask with s1 (x[i+1]) and not</span>
<a name="l00107"></a>00107       <span class="comment">// with y, like MN98 does, because s1&amp;1 == y&amp;1 by construction.</span>
<a name="l00108"></a>00108       twist_int <a class="code" href="indexexpr_8h.html#c434fd11cc2493608d8d91424d60c17e">r</a> = <a class="code" href="structMersenneTwister_1_1BitMixer.html#6ed5ac01a9920687d616a3251aeb128a">high_mask</a>(s1) ^ <a class="code" href="structMersenneTwister_1_1BitMixer.html#e26e49cee2d250eb1a65dbd3f1eb5354">low_mask</a>(s1);
<a name="l00109"></a>00109       <a class="code" href="structMersenneTwister_1_1BitMixer.html#9cb7f7e60511d471f0afd7c9e8d0df37">s0</a> = s1;
<a name="l00110"></a>00110       <span class="keywordflow">return</span> r;
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112     twist_int <a class="code" href="structMersenneTwister_1_1BitMixer.html#9cb7f7e60511d471f0afd7c9e8d0df37">s0</a>; <span class="comment">// this is "x[i]" in the MN98 description</span>
<a name="l00113"></a><a class="code" href="structMersenneTwister_1_1BitMixer.html#0322d7d152afeb3de07bf8561e3a6551">00113</a>     <span class="keyword">const</span> twist_int <a class="code" href="structMersenneTwister_1_1BitMixer.html#2bd35860cd8ef1d441ba734d32c2d54ff78772660c34c878baa280db4b50f8a0">K</a>; <span class="comment">// MN98 "a" vector</span>
<a name="l00114"></a>00114   };
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="keyword">enum</span> { <a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ef2e9ebf93e865e5246d5dffda4782003">N</a> = 624, 
<a name="l00117"></a>00117        <a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ed548100998c89c737c2d35f9d9d43837">PF</a> = 397, <span class="comment">// MN98 "m"</span>
<a name="l00118"></a>00118        <a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ebf7eab15b6cb08e0b403e2a91a145d3b">reference_seed</a> = 4357 }; 
<a name="l00119"></a>00119  
<a name="l00120"></a><a class="code" href="classMersenneTwister.html#f25bae282154b414446dd1edaabdd19d">00120</a>   <span class="keywordtype">void</span> <a class="code" href="classMersenneTwister.html#f25bae282154b414446dd1edaabdd19d">initialize</a>()
<a name="l00121"></a>00121   {
<a name="l00122"></a>00122     <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.resize(<a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ef2e9ebf93e865e5246d5dffda4782003">N</a>);
<a name="l00123"></a>00123     <a class="code" href="classMersenneTwister.html#bb1bef504cfff8827383399a20449f65">I</a> = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.end();
<a name="l00124"></a>00124   }
<a name="l00125"></a>00125  
<a name="l00126"></a>00126 <span class="keyword">public</span>: 
<a name="l00127"></a><a class="code" href="classMersenneTwister.html#003f17bd5590608d481738f9b926fef6">00127</a>   <a class="code" href="classMersenneTwister.html#003f17bd5590608d481738f9b926fef6">MersenneTwister</a>() : <a class="code" href="classMersenneTwister.html#c504e53b560acb5fbb6555f2ded6787d">b_</a>(0x9D2C5680), <a class="code" href="classMersenneTwister.html#0701a67794b30485a7370c277c73ba1c">c_</a>(0xEFC60000)
<a name="l00128"></a>00128   {
<a name="l00129"></a>00129     <a class="code" href="classMersenneTwister.html#f25bae282154b414446dd1edaabdd19d">initialize</a>();
<a name="l00130"></a>00130     <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a>();
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     <span class="comment">// There is a problem: static initialization + templates do not</span>
<a name="l00133"></a>00133     <span class="comment">// mix very well in C++.  If you have a static member</span>
<a name="l00134"></a>00134     <span class="comment">// of a class template, there is no guarantee on its order iin</span>
<a name="l00135"></a>00135     <span class="comment">// static initialization.  This MersenneTwister class is used</span>
<a name="l00136"></a>00136     <span class="comment">// elsewhere as a static member of a template class, and it is</span>
<a name="l00137"></a>00137     <span class="comment">// possible (in fact, I've done so) to create a static initializer</span>
<a name="l00138"></a>00138     <span class="comment">// that will invoke the seed() method of this object before its</span>
<a name="l00139"></a>00139     <span class="comment">// ctor has been called (result: crash). </span>
<a name="l00140"></a>00140     <span class="comment">// ANSI C++ is stranger than fiction.</span>
<a name="l00141"></a>00141     <span class="comment">// Currently the documentation forbids using RNGs from</span>
<a name="l00142"></a>00142     <span class="comment">// static initializers.  There doesn't seem to be a good</span>
<a name="l00143"></a>00143     <span class="comment">// fix.</span>
<a name="l00144"></a>00144   }
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="classMersenneTwister.html#0846bfbc0294d807e285774eb365d791">00146</a>   <a class="code" href="classMersenneTwister.html#003f17bd5590608d481738f9b926fef6">MersenneTwister</a>(twist_int aa, twist_int bb, twist_int cc) : 
<a name="l00147"></a>00147     <a class="code" href="classMersenneTwister.html#5fe2e0aad2349da210293a6abc3c57cf">twist_</a>(aa), <a class="code" href="classMersenneTwister.html#c504e53b560acb5fbb6555f2ded6787d">b_</a>(bb), <a class="code" href="classMersenneTwister.html#0701a67794b30485a7370c277c73ba1c">c_</a>(cc)
<a name="l00148"></a>00148   {
<a name="l00149"></a>00149     <a class="code" href="classMersenneTwister.html#f25bae282154b414446dd1edaabdd19d">initialize</a>();
<a name="l00150"></a>00150     <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a>();
<a name="l00151"></a>00151   }
<a name="l00152"></a>00152 
<a name="l00153"></a><a class="code" href="classMersenneTwister.html#cb32e87c27794a6773e74a2213e67a7a">00153</a>   <a class="code" href="classMersenneTwister.html#003f17bd5590608d481738f9b926fef6">MersenneTwister</a>(twist_int initial_seed) : <a class="code" href="classMersenneTwister.html#c504e53b560acb5fbb6555f2ded6787d">b_</a>(0x9D2C5680), <a class="code" href="classMersenneTwister.html#0701a67794b30485a7370c277c73ba1c">c_</a>(0xEFC60000)
<a name="l00154"></a>00154   {
<a name="l00155"></a>00155     <a class="code" href="classMersenneTwister.html#f25bae282154b414446dd1edaabdd19d">initialize</a>();
<a name="l00156"></a>00156     <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a>(initial_seed);
<a name="l00157"></a>00157   }
<a name="l00158"></a>00158 
<a name="l00159"></a><a class="code" href="classMersenneTwister.html#cbcc275e10806bd3b499a9fa8b5b1674">00159</a>   <a class="code" href="classMersenneTwister.html#003f17bd5590608d481738f9b926fef6">MersenneTwister</a>(twist_int aa, twist_int bb, twist_int cc, 
<a name="l00160"></a>00160       twist_int initial_seed) : <a class="code" href="classMersenneTwister.html#5fe2e0aad2349da210293a6abc3c57cf">twist_</a>(aa), <a class="code" href="classMersenneTwister.html#c504e53b560acb5fbb6555f2ded6787d">b_</a>(bb), <a class="code" href="classMersenneTwister.html#0701a67794b30485a7370c277c73ba1c">c_</a>(cc)
<a name="l00161"></a>00161   {
<a name="l00162"></a>00162     <a class="code" href="classMersenneTwister.html#f25bae282154b414446dd1edaabdd19d">initialize</a>();
<a name="l00163"></a>00163     <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a>(initial_seed);
<a name="l00164"></a>00164   }
<a name="l00165"></a>00165 
<a name="l00166"></a>00166   <span class="comment">// Seed. Uses updated seed algorithm from mt19937ar. The old</span>
<a name="l00167"></a>00167   <span class="comment">// algorithm would yield sequences that were close from seeds that</span>
<a name="l00168"></a>00168   <span class="comment">// were close.</span>
<a name="l00169"></a><a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">00169</a>   <span class="keywordtype">void</span> <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a> (twist_int <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a> = <a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ebf7eab15b6cb08e0b403e2a91a145d3b">reference_seed</a>)
<a name="l00170"></a>00170   {
<a name="l00171"></a>00171     <span class="comment">// seed cannot equal 0</span>
<a name="l00172"></a>00172     <span class="keywordflow">if</span> (<a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a> == 0)
<a name="l00173"></a>00173       <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a> = <a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ebf7eab15b6cb08e0b403e2a91a145d3b">reference_seed</a>;
<a name="l00174"></a>00174 
<a name="l00175"></a>00175     <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[0] = <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a> &amp; 0xFFFFFFFF;
<a name="l00176"></a>00176     <span class="keywordflow">for</span> (<a class="code" href="classMersenneTwister.html#85fd7651fe5b9da17f6a64a5b865e552">SizeType</a> mti=1; mti&lt;<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.size(); ++mti) {
<a name="l00177"></a>00177       <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[mti] = (1812433253U * (<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[mti-1] ^ (<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[mti-1] &gt;&gt; 30)) + mti); 
<a name="l00178"></a>00178       <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[mti] &amp;= 0xffffffffU;
<a name="l00179"></a>00179     }
<a name="l00180"></a>00180 
<a name="l00181"></a>00181     <a class="code" href="classMersenneTwister.html#d0aa3a5a40cac4ff022be9d66205fda5">reload</a>();
<a name="l00182"></a>00182   }
<a name="l00183"></a>00183 
<a name="l00184"></a>00184   <span class="comment">// Seed by array, swiped directly from mt19937ar. Gives a larger</span>
<a name="l00185"></a>00185   <span class="comment">// initial seed space.</span>
<a name="l00186"></a><a class="code" href="classMersenneTwister.html#49f4e0988f06bda7a29786aaf8aaeb71">00186</a>   <span class="keywordtype">void</span> <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a> (<a class="code" href="classMersenneTwister.html#3e932cdbd87949e9e1232fb991e12012">State</a> seed_vector)
<a name="l00187"></a>00187   {
<a name="l00188"></a>00188     <a class="code" href="classMersenneTwister.html#85fd7651fe5b9da17f6a64a5b865e552">SizeType</a> <a class="code" href="indexexpr_8h.html#abd77643995707c185e95c8cb2782c81">i</a>, <a class="code" href="indexexpr_8h.html#a1f3325d66516548e69238097857fa98">j</a>, <a class="code" href="indexexpr_8h.html#bb72938a198351550846b37a84588b63">k</a>;
<a name="l00189"></a>00189     <a class="code" href="classMersenneTwister.html#2f6e0902671e03578423d19849881271">seed</a>(19650218U);
<a name="l00190"></a>00190     i=1; j=0;
<a name="l00191"></a>00191     <span class="keyword">const</span> <a class="code" href="classMersenneTwister.html#85fd7651fe5b9da17f6a64a5b865e552">SizeType</a> <a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ef2e9ebf93e865e5246d5dffda4782003">N</a>=<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.size();
<a name="l00192"></a>00192   <span class="keyword">const</span> <a class="code" href="classMersenneTwister.html#85fd7651fe5b9da17f6a64a5b865e552">SizeType</a> <a class="code" href="indexexpr_8h.html#b427e2e2b4d6cec55fa088ea2a692ace">n</a>=seed_vector.size();
<a name="l00193"></a>00193     k = (N&gt;n ? N : n);
<a name="l00194"></a>00194     <span class="keywordflow">for</span> (; k; k--) {
<a name="l00195"></a>00195       <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i] = (<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i] ^ ((<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i-1] ^ (<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i-1] &gt;&gt; 30)) * 1664525U))
<a name="l00196"></a>00196   + seed_vector[j] + j; <span class="comment">/* non linear */</span>
<a name="l00197"></a>00197       <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i] &amp;= 0xffffffffU; <span class="comment">/* for WORDSIZE &gt; 32 machines */</span>
<a name="l00198"></a>00198       i++; j++;
<a name="l00199"></a>00199       <span class="keywordflow">if</span> (i&gt;=N) { <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[0] = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[N-1]; i=1; }
<a name="l00200"></a>00200       <span class="keywordflow">if</span> (j&gt;=n) j=0;
<a name="l00201"></a>00201     }
<a name="l00202"></a>00202     <span class="keywordflow">for</span> (k=N-1; k; k--) {
<a name="l00203"></a>00203       <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i] = (<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i] ^ ((<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i-1] ^ (<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i-1] &gt;&gt; 30)) * 1566083941UL))
<a name="l00204"></a>00204   - i; <span class="comment">/* non linear */</span>
<a name="l00205"></a>00205       <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[i] &amp;= 0xffffffffU; <span class="comment">/* for WORDSIZE &gt; 32 machines */</span>
<a name="l00206"></a>00206       i++;
<a name="l00207"></a>00207       <span class="keywordflow">if</span> (i&gt;=N) { <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[0] = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[N-1]; i=1; }
<a name="l00208"></a>00208     }
<a name="l00209"></a>00209 
<a name="l00210"></a>00210     <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[0] = 0x80000000U; <span class="comment">/* MSB is 1; assuring non-zero initial array */</span> 
<a name="l00211"></a>00211 
<a name="l00212"></a>00212     <a class="code" href="classMersenneTwister.html#d0aa3a5a40cac4ff022be9d66205fda5">reload</a>();
<a name="l00213"></a>00213   }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215   <span class="comment">// generate a full new x array</span>
<a name="l00216"></a><a class="code" href="classMersenneTwister.html#d0aa3a5a40cac4ff022be9d66205fda5">00216</a>   <span class="keywordtype">void</span> <a class="code" href="classMersenneTwister.html#d0aa3a5a40cac4ff022be9d66205fda5">reload</a> (<span class="keywordtype">void</span>)
<a name="l00217"></a>00217   {
<a name="l00218"></a>00218     <span class="comment">// This check is required because it is possible to call random()</span>
<a name="l00219"></a>00219     <span class="comment">// before the constructor.  See the note above about static</span>
<a name="l00220"></a>00220     <span class="comment">// initialization.</span>
<a name="l00221"></a>00221 
<a name="l00222"></a>00222     <a class="code" href="classMersenneTwister.html#cda2fe5fd19206999d9ce9ca0e7ce338">Iter</a> p0 = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.begin();
<a name="l00223"></a>00223     <a class="code" href="classMersenneTwister.html#cda2fe5fd19206999d9ce9ca0e7ce338">Iter</a> pM = p0 + <a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ed548100998c89c737c2d35f9d9d43837">PF</a>;
<a name="l00224"></a>00224     <a class="code" href="classMersenneTwister.html#5fe2e0aad2349da210293a6abc3c57cf">twist_</a> (<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[0]); <span class="comment">// set x[i]=x[0] in the twister (prime the pump)</span>
<a name="l00225"></a>00225     <span class="keywordflow">for</span> (<a class="code" href="classMersenneTwister.html#cda2fe5fd19206999d9ce9ca0e7ce338">Iter</a> pf_end = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.begin()+(<a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ef2e9ebf93e865e5246d5dffda4782003">N</a>-PF); p0 != pf_end; ++p0, ++pM)
<a name="l00226"></a>00226       <span class="comment">// mt[kk] = mt[kk+m] XOR ((y&gt;&gt;1)XOR(mag01), as calc by BitMixer)</span>
<a name="l00227"></a>00227       *p0 = *pM ^ <a class="code" href="classMersenneTwister.html#5fe2e0aad2349da210293a6abc3c57cf">twist_</a> (p0[1]);
<a name="l00228"></a>00228 
<a name="l00229"></a>00229     <span class="comment">// This is the "modulo part" where kk+m rolls over</span>
<a name="l00230"></a>00230     pM = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.begin();
<a name="l00231"></a>00231     <span class="keywordflow">for</span> (<a class="code" href="classMersenneTwister.html#cda2fe5fd19206999d9ce9ca0e7ce338">Iter</a> s_end = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.begin()+(<a class="code" href="classMersenneTwister.html#db8cc037a02e42acd8020b18608d939ef2e9ebf93e865e5246d5dffda4782003">N</a>-1); p0 != s_end; ++p0, ++pM)
<a name="l00232"></a>00232       *p0 = *pM ^ <a class="code" href="classMersenneTwister.html#5fe2e0aad2349da210293a6abc3c57cf">twist_</a> (p0[1]);
<a name="l00233"></a>00233     <span class="comment">// and final element where kk+1 rolls over</span>
<a name="l00234"></a>00234     *p0 = *pM ^ <a class="code" href="classMersenneTwister.html#5fe2e0aad2349da210293a6abc3c57cf">twist_</a> (<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>[0]);
<a name="l00235"></a>00235 
<a name="l00236"></a>00236     <a class="code" href="classMersenneTwister.html#bb1bef504cfff8827383399a20449f65">I</a> = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.begin();
<a name="l00237"></a>00237   }
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="classMersenneTwister.html#f674667e319b149105d60d75b7ac49e0">00239</a>   <span class="keyword">inline</span> twist_int <a class="code" href="classMersenneTwister.html#f674667e319b149105d60d75b7ac49e0">random</a> (<span class="keywordtype">void</span>)
<a name="l00240"></a>00240   {
<a name="l00241"></a>00241     <span class="keywordflow">if</span> (<a class="code" href="classMersenneTwister.html#bb1bef504cfff8827383399a20449f65">I</a> &gt;= <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.end()) <a class="code" href="classMersenneTwister.html#d0aa3a5a40cac4ff022be9d66205fda5">reload</a>();
<a name="l00242"></a>00242     <span class="comment">// get next word from array</span>
<a name="l00243"></a>00243     twist_int y = *<a class="code" href="classMersenneTwister.html#bb1bef504cfff8827383399a20449f65">I</a>++;
<a name="l00244"></a>00244     <span class="comment">// Step 4+5 in MN98, multiply by tempering matrix</span>
<a name="l00245"></a>00245     y ^= (y &gt;&gt; 11);
<a name="l00246"></a>00246     y ^= (y &lt;&lt;  7) &amp; <a class="code" href="classMersenneTwister.html#c504e53b560acb5fbb6555f2ded6787d">b_</a>; 
<a name="l00247"></a>00247     y ^= (y &lt;&lt; 15) &amp; <a class="code" href="classMersenneTwister.html#0701a67794b30485a7370c277c73ba1c">c_</a>; 
<a name="l00248"></a>00248     y ^= (y &gt;&gt; 18);
<a name="l00249"></a>00249     <span class="keywordflow">return</span> y;
<a name="l00250"></a>00250   }
<a name="l00251"></a>00251 
<a name="l00252"></a>00252   <span class="comment">// functions for getting/setting state</span>
<a name="l00253"></a><a class="code" href="classMersenneTwister_1_1mt__state.html">00253</a>   <span class="keyword">class </span><a class="code" href="classMersenneTwister_1_1mt__state.html">mt_state</a> {
<a name="l00254"></a><a class="code" href="classMersenneTwister_1_1mt__state.html#b4f64ddea8d782febd7d9793dd71ebd2">00254</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMersenneTwister.html">MersenneTwister</a>;
<a name="l00255"></a>00255   <span class="keyword">private</span>:
<a name="l00256"></a><a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">00256</a>     <a class="code" href="classMersenneTwister.html#3e932cdbd87949e9e1232fb991e12012">State</a> <a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a>;
<a name="l00257"></a><a class="code" href="classMersenneTwister_1_1mt__state.html#e0d24fac6c8b9e0bd120589dcb061b08">00257</a>   State::difference_type <a class="code" href="classMersenneTwister_1_1mt__state.html#e0d24fac6c8b9e0bd120589dcb061b08">I</a>;
<a name="l00258"></a>00258   <span class="keyword">public</span>: 
<a name="l00259"></a><a class="code" href="classMersenneTwister_1_1mt__state.html#6bea036ecdebf05c94a985659543ed82">00259</a>     <a class="code" href="classMersenneTwister_1_1mt__state.html#6bea036ecdebf05c94a985659543ed82">mt_state</a>() { }
<a name="l00260"></a><a class="code" href="classMersenneTwister_1_1mt__state.html#4aec5ff4edd17aa5e1f6a8b71a3a46f8">00260</a>   <a class="code" href="classMersenneTwister_1_1mt__state.html#4aec5ff4edd17aa5e1f6a8b71a3a46f8">mt_state</a>(<a class="code" href="classMersenneTwister.html#3e932cdbd87949e9e1232fb991e12012">State</a> <a class="code" href="indexexpr_8h.html#e024b0db549122b44c349ae28ec990dc">s</a>, State::difference_type <a class="code" href="indexexpr_8h.html#abd77643995707c185e95c8cb2782c81">i</a>) : <a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a>(s), <a class="code" href="classMersenneTwister_1_1mt__state.html#e0d24fac6c8b9e0bd120589dcb061b08">I</a>(i) { }
<a name="l00261"></a><a class="code" href="classMersenneTwister_1_1mt__state.html#ba61c3b71b5eef6d9592a6da2bcf0124">00261</a>     <a class="code" href="classMersenneTwister_1_1mt__state.html#ba61c3b71b5eef6d9592a6da2bcf0124">mt_state</a>(<span class="keyword">const</span> std::string&amp; <a class="code" href="indexexpr_8h.html#e024b0db549122b44c349ae28ec990dc">s</a>) {
<a name="l00262"></a>00262       std::istringstream is(s);
<a name="l00263"></a>00263       is &gt;&gt; <a class="code" href="classMersenneTwister_1_1mt__state.html#e0d24fac6c8b9e0bd120589dcb061b08">I</a>;
<a name="l00264"></a>00264       <a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a> = <a class="code" href="classMersenneTwister.html#3e932cdbd87949e9e1232fb991e12012">State</a>(std::istream_iterator&lt;twist_int&gt;(is),
<a name="l00265"></a>00265     std::istream_iterator&lt;twist_int&gt;());
<a name="l00266"></a>00266       assert(!<a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a>.empty());
<a name="l00267"></a>00267     }
<a name="l00268"></a><a class="code" href="classMersenneTwister_1_1mt__state.html#c1335106ad0d97885b0104bb373b5413">00268</a>     <a class="code" href="classMersenneTwister_1_1mt__state.html#c1335106ad0d97885b0104bb373b5413">operator bool</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a>.empty(); }
<a name="l00269"></a><a class="code" href="classMersenneTwister_1_1mt__state.html#f045387953a5a13650d9ee788dd4bea8">00269</a>     std::string <a class="code" href="classMersenneTwister_1_1mt__state.html#f045387953a5a13650d9ee788dd4bea8">str</a>()<span class="keyword"> const </span>{
<a name="l00270"></a>00270       <span class="keywordflow">if</span> (<a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a>.empty())
<a name="l00271"></a>00271   <span class="keywordflow">return</span> std::string();
<a name="l00272"></a>00272       std::ostringstream os;
<a name="l00273"></a>00273       os &lt;&lt; <a class="code" href="classMersenneTwister_1_1mt__state.html#e0d24fac6c8b9e0bd120589dcb061b08">I</a> &lt;&lt; <span class="stringliteral">" "</span>;
<a name="l00274"></a>00274       std::copy(<a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a>.begin(), <a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a>.end(),
<a name="l00275"></a>00275     std::ostream_iterator&lt;twist_int&gt;(os,<span class="stringliteral">" "</span>));
<a name="l00276"></a>00276       <span class="keywordflow">return</span> os.str();
<a name="l00277"></a>00277     }
<a name="l00278"></a>00278   };
<a name="l00279"></a>00279   
<a name="l00280"></a><a class="code" href="classMersenneTwister.html#d0a9ea2cc1572693a37df878ae065730">00280</a>   <span class="keyword">typedef</span> <a class="code" href="classMersenneTwister_1_1mt__state.html">mt_state</a> <a class="code" href="classMersenneTwister_1_1mt__state.html">T_state</a>;
<a name="l00281"></a><a class="code" href="classMersenneTwister.html#b18820358213655f37047d405dbabeee">00281</a>   <a class="code" href="classMersenneTwister_1_1mt__state.html">T_state</a> <a class="code" href="classMersenneTwister.html#b18820358213655f37047d405dbabeee">getState</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMersenneTwister.html#d0a9ea2cc1572693a37df878ae065730">T_state</a>(<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>, <a class="code" href="classMersenneTwister.html#bb1bef504cfff8827383399a20449f65">I</a>-<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.begin()); }
<a name="l00282"></a><a class="code" href="classMersenneTwister.html#58ede51949a4a8a58fea193205c41315">00282</a>   std::string <a class="code" href="classMersenneTwister.html#58ede51949a4a8a58fea193205c41315">getStateString</a>()<span class="keyword"> const </span>{
<a name="l00283"></a>00283     <a class="code" href="classMersenneTwister_1_1mt__state.html">T_state</a> tmp(<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>, <a class="code" href="classMersenneTwister.html#bb1bef504cfff8827383399a20449f65">I</a>-<a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.begin());
<a name="l00284"></a>00284     <span class="keywordflow">return</span> tmp.str();
<a name="l00285"></a>00285   }
<a name="l00286"></a><a class="code" href="classMersenneTwister.html#b2a6fab5b95f538e681603d86ea8316a">00286</a>   <span class="keywordtype">void</span> <a class="code" href="classMersenneTwister.html#b2a6fab5b95f538e681603d86ea8316a">setState</a>(<span class="keyword">const</span> <a class="code" href="classMersenneTwister_1_1mt__state.html">T_state</a>&amp; <a class="code" href="indexexpr_8h.html#e024b0db549122b44c349ae28ec990dc">s</a>) {
<a name="l00287"></a>00287     <span class="keywordflow">if</span> (!s) {
<a name="l00288"></a>00288       std::cerr &lt;&lt; <span class="stringliteral">"Error: state is empty"</span> &lt;&lt; std::endl;
<a name="l00289"></a>00289       <span class="keywordflow">return</span>;
<a name="l00290"></a>00290     } 
<a name="l00291"></a>00291     <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a> = s.<a class="code" href="classMersenneTwister_1_1mt__state.html#368dc4512942e7642aaaa2085ccd4cbc">S</a>;
<a name="l00292"></a>00292     <a class="code" href="classMersenneTwister.html#bb1bef504cfff8827383399a20449f65">I</a> = <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>.begin() + s.<a class="code" href="classMersenneTwister_1_1mt__state.html#e0d24fac6c8b9e0bd120589dcb061b08">I</a>;
<a name="l00293"></a>00293   }
<a name="l00294"></a><a class="code" href="classMersenneTwister.html#4162cc9b1acbb3c14a91bdaf235a29e5">00294</a>   <span class="keywordtype">void</span> <a class="code" href="classMersenneTwister.html#4162cc9b1acbb3c14a91bdaf235a29e5">setState</a>(<span class="keyword">const</span> std::string&amp; <a class="code" href="indexexpr_8h.html#e024b0db549122b44c349ae28ec990dc">s</a>) {
<a name="l00295"></a>00295     <a class="code" href="classMersenneTwister_1_1mt__state.html">T_state</a> tmp(s);
<a name="l00296"></a>00296     <a class="code" href="classMersenneTwister.html#b2a6fab5b95f538e681603d86ea8316a">setState</a>(tmp);
<a name="l00297"></a>00297   }
<a name="l00298"></a>00298   
<a name="l00299"></a>00299 <span class="keyword">private</span>:
<a name="l00300"></a><a class="code" href="classMersenneTwister.html#5fe2e0aad2349da210293a6abc3c57cf">00300</a>   <a class="code" href="structMersenneTwister_1_1BitMixer.html">BitMixer</a> <a class="code" href="classMersenneTwister.html#5fe2e0aad2349da210293a6abc3c57cf">twist_</a>;
<a name="l00301"></a><a class="code" href="classMersenneTwister.html#0701a67794b30485a7370c277c73ba1c">00301</a>   <span class="keyword">const</span> twist_int <a class="code" href="classMersenneTwister.html#c504e53b560acb5fbb6555f2ded6787d">b_</a>,<a class="code" href="classMersenneTwister.html#0701a67794b30485a7370c277c73ba1c">c_</a>;
<a name="l00302"></a>00302 
<a name="l00303"></a>00303   <a class="code" href="classMersenneTwister.html#3e932cdbd87949e9e1232fb991e12012">State</a>   <a class="code" href="classMersenneTwister.html#bc3f15f62f0f1281d7d2b07a20378580">S</a>;
<a name="l00304"></a>00304   <a class="code" href="classMersenneTwister.html#cda2fe5fd19206999d9ce9ca0e7ce338">Iter</a>    <a class="code" href="classMersenneTwister.html#bb1bef504cfff8827383399a20449f65">I</a>;
<a name="l00305"></a>00305 };
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 
<a name="l00310"></a><a class="code" href="classMersenneTwisterCreator.html">00310</a> <span class="keyword">class </span><a class="code" href="classMersenneTwisterCreator.html" title="This class creates MersenneTwisters with different parameters indexed by and ID number...">MersenneTwisterCreator</a>
<a name="l00311"></a>00311 {
<a name="l00312"></a>00312 <span class="keyword">public</span>:
<a name="l00313"></a><a class="code" href="classMersenneTwisterCreator.html#5b09cf5823aeea8ec26b85f1c22b2009">00313</a>   <span class="keyword">static</span> <a class="code" href="classMersenneTwister.html">MersenneTwister</a> <a class="code" href="classMersenneTwisterCreator.html#5b09cf5823aeea8ec26b85f1c22b2009">create</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="indexexpr_8h.html#abd77643995707c185e95c8cb2782c81">i</a>) {
<a name="l00314"></a>00314     <span class="comment">// We only have n different parameter sets</span>
<a name="l00315"></a>00315     i = i % <a class="code" href="classMersenneTwisterCreator.html#51012f9fcbe71062f1f54470bb3f5813">n</a>;
<a name="l00316"></a>00316     <span class="keywordflow">return</span> <a class="code" href="classMersenneTwister.html">MersenneTwister</a>(<a class="code" href="classMersenneTwisterCreator.html#f3245903dbe5daef327b7bd11e87392c">a_</a>[i], <a class="code" href="classMersenneTwisterCreator.html#f69548fe71d9d4ea51e065fafab80127">b_</a>[i], <a class="code" href="classMersenneTwisterCreator.html#c6444497163c18514fa26861581d1ffc">c_</a>[i]);
<a name="l00317"></a>00317   };
<a name="l00318"></a>00318 
<a name="l00319"></a>00319 <span class="keyword">private</span>:
<a name="l00320"></a><a class="code" href="classMersenneTwisterCreator.html#51012f9fcbe71062f1f54470bb3f5813">00320</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classMersenneTwisterCreator.html#51012f9fcbe71062f1f54470bb3f5813">n</a>=48;
<a name="l00321"></a><a class="code" href="classMersenneTwisterCreator.html#f3245903dbe5daef327b7bd11e87392c">00321</a>   <span class="keyword">static</span> <span class="keyword">const</span> twist_int <a class="code" href="classMersenneTwisterCreator.html#f3245903dbe5daef327b7bd11e87392c">a_</a>[<a class="code" href="classMersenneTwisterCreator.html#51012f9fcbe71062f1f54470bb3f5813">n</a>];
<a name="l00322"></a><a class="code" href="classMersenneTwisterCreator.html#f69548fe71d9d4ea51e065fafab80127">00322</a>   <span class="keyword">static</span> <span class="keyword">const</span> twist_int <a class="code" href="classMersenneTwisterCreator.html#f69548fe71d9d4ea51e065fafab80127">b_</a>[<a class="code" href="classMersenneTwisterCreator.html#51012f9fcbe71062f1f54470bb3f5813">n</a>];
<a name="l00323"></a><a class="code" href="classMersenneTwisterCreator.html#c6444497163c18514fa26861581d1ffc">00323</a>   <span class="keyword">static</span> <span class="keyword">const</span> twist_int <a class="code" href="classMersenneTwisterCreator.html#c6444497163c18514fa26861581d1ffc">c_</a>[<a class="code" href="classMersenneTwisterCreator.html#51012f9fcbe71062f1f54470bb3f5813">n</a>];
<a name="l00324"></a>00324 };
<a name="l00325"></a>00325 
<a name="l00326"></a>00326 <a class="code" href="compiler_8h.html#3a5f9cf1b4e49ac69a95f142bd2d0c43">BZ_NAMESPACE_END</a>
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 <span class="preprocessor">#endif // BZ_RAND_MT</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 7 11:56:26 2010 for blitz by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
